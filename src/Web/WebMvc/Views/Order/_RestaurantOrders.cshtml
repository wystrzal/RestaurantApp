@model IEnumerable<WebMvc.Models.Orders>
<script src="~/js/signalr/dist/browser/signalr.js" type="text/javascript"></script>
<script src="~/js/orderReady.js"></script>

<div class="col-12 text-left">
    @Html.ActionLink("Create Order", "CreateOrder", "Order", null, new { @class = "btn btn-success mb-3" })
</div>

@foreach (var order in Model)
{
    @if (order.OrderStatus == WebMvc.Helpers.CustomEnums.OrderStatus.Ready)
    {
        <div class="col-md-4 col-12">
            <div class="card mb-2">
                <h5 class="card-header">New Order</h5>
                <div class="card-body">
                    @if (order.Address != null)
                    {
                        <h5 class="card-title">
                            Address: @order.Address
                        </h5>
                        <h5 class="card-title">
                            Phone: @order.PhoneNumber
                        </h5>
                    }
                    else
                    {
                        <h5 class="card-title">
                            Table: @order.Table
                        </h5>
                    }

                    <p class="card-text">Total Price: @order.TotalPrice</p>

                    @if (order.OrderStatus == WebMvc.Helpers.CustomEnums.OrderStatus.Ready)
                    {
                        <a href="#" class="btn btn-success">Delivered</a>
                    }
                </div>
            </div>
        </div>
    }
}